(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70bd0d17"],{"057f":function(t,e,n){var r=n("fc6a"),o=n("241c").f,c={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==c.call(t)?a(t):o(r(t))}},"159b":function(t,e,n){var r=n("da84"),o=n("fdbc"),c=n("17c2"),i=n("9112");for(var a in o){var s=r[a],u=s&&s.prototype;if(u&&u.forEach!==c)try{i(u,"forEach",c)}catch(f){u.forEach=c}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,o=n("a640"),c=o("forEach");t.exports=c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),c=n("2d00"),i=o("species");t.exports=function(t){return c>=51||!r((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"397a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("nav-bar",{staticClass:"nav-bar",scopedSlots:t._u([{key:"center",fn:function(){return[t._v("商品分类")]},proxy:!0}])}),n("div",{staticClass:"content"},[n("category-menu",{attrs:{categories:t.categories},on:{selectItem:t.selectItem}}),n("scroll",{ref:"scroll",staticClass:"tab-content",attrs:{data:[t.categoryData],"probe-type":3},on:{scroll:t.scroll}},[n("div",[n("menu-detail",{attrs:{subcategories:t.showSubcategory}}),n("tab-control",{attrs:{titles:["综合","新品","销量"]},on:{tabClick:t.tabClick}}),n("content-detail",{attrs:{"content-detail":t.showContentDetail}})],1)])],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showTop,expression:"showTop"}],nativeOn:{click:function(e){return t.backTop(e)}}})],1)},o=[],c=n("5530"),i=n("a7ac"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu"},[n("scroll",{staticClass:"content",attrs:{observeDOM:!0}},t._l(t.categories,(function(e,r){return n("div",{key:r,staticClass:"title",class:{active:r===t.currentIndex},on:{click:function(e){return t.titleClick(r)}}},[t._v(" "+t._s(e.title))])})),0)],1)},s=[],u=n("5d17"),f={name:"CategoryMenu",components:{Scroll:u["a"]},props:{categories:Array},data:function(){return{currentIndex:0}},methods:{titleClick:function(t){this.currentIndex=t,this.$emit("selectItem",t)}}},l=f,d=(n("6ffc"),n("2877")),b=Object(d["a"])(l,a,s,!1,null,"51f5768e",null),p=b.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.subcategories.list?n("grid-view",{staticClass:"grid",attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.subcategories.list,(function(e,r){return n("div",{key:r,staticClass:"menu-detail"},[n("a",{attrs:{href:e.link}}),n("img",{staticClass:"image",attrs:{src:e.image,alt:""}}),n("div",{staticClass:"text"},[t._v(t._s(e.title))])])})),0):t._e()],1)},h=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"gridView",staticClass:"grid-view"},[t._t("default")],2)},v=[],m=(n("a9e3"),n("99af"),{name:"GridView",props:{cols:{type:Number,default:2},hMargin:{type:Number,default:8},vMargin:{type:Number,default:8},itemSpace:{type:Number,default:8},lineSpace:{type:Number,default:8}},mounted:function(){setTimeout(this._autoLayout,20)},updated:function(){this._autoLayout()},methods:{_autoLayout:function(){var t=this.$refs.gridView,e=t.children;t.style.padding="".concat(this.vMargin,"px ").concat(this.hMargin,"px");for(var n=(t.clientWidth-2*this.hMargin-this.cols*this.itemSpace)/this.cols,r=0;r<e.length;r++){var o=e[r];o.style.width=n+"px",(r+1)%this.cols!==0&&(o.style.marginRight=this.itemSpace+"px"),r>=this.cols&&(o.style.marginTop=this.lineSpace+"px")}}}}),w=m,O=(n("f303"),Object(d["a"])(w,y,v,!1,null,null,null)),C=O.exports,j={name:"MenuDetail",props:{subcategories:Object},components:{GridView:C}},x=j,_=(n("4792"),Object(d["a"])(x,g,h,!1,null,"49223bd8",null)),D=_.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("grid-view",t._l(t.contentDetail,(function(t,e){return n("goods-list-item",{key:e,attrs:{goodsItem:t}})})),1)},S=[],I=n("9977"),E={name:"ContentDetail",components:{GridView:C,GoodsListItem:I["a"]},props:{contentDetail:Array}},P=E,T=Object(d["a"])(P,k,S,!1,null,null,null),N=T.exports,M=n("9bd0"),$=n("1bab");function A(){return Object($["a"])({url:"/category"})}function V(t){return Object($["a"])({url:"/subcategory",params:{maitKey:t}})}function G(t,e){return Object($["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var J=n("eecb"),L={name:"Category",components:{NavBar:i["a"],CategoryMenu:p,MenuDetail:D,ContentDetail:N,Scroll:u["a"],TabControl:M["a"]},data:function(){return{categories:[],categoryData:[],currentIndex:-1,currentType:"pop"}},mixins:[J["a"]],created:function(){this._getCategory()},computed:{showSubcategory:function(){return-1===this.currentIndex?{}:this.categoryData[this.currentIndex].subcategories},showContentDetail:function(){return-1===this.currentIndex?[]:this.categoryData[this.currentIndex].categoryDetail[this.currentType]}},methods:{_getCategory:function(){var t=this;A().then((function(e){console.log(e),t.categories=e.data.category.list;for(var n=0;n<t.categories.length;n++)t.categoryData[n]={subcategories:{},categoryDetail:{pop:[],new:[],sell:[]}};t._getsubcategory(0)}))},_getsubcategory:function(t){var e=this;this.currentIndex=t;var n=this.categories[t].maitKey;V(n).then((function(n){console.log(n),e.categoryData[t].subcategories=n.data,e.categoryData=Object(c["a"])({},e.categoryData),e._getContentDetail("pop"),e._getContentDetail("new"),e._getContentDetail("sell"),console.log(e.categoryData)}))},_getContentDetail:function(t){var e=this,n=this.categories[this.currentIndex].miniWallkey;console.log(n),G(n,t).then((function(n){e.categoryData[e.currentIndex].categoryDetail[t]=n,e.categoryData=Object(c["a"])({},e.categoryData)}))},tabClick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}console.log(this.currentType)},selectItem:function(t){this._getsubcategory(t)},scroll:function(t){var e=-t.y;this.showTop=e>1e3}}},W=L,B=(n("f64e"),Object(d["a"])(W,r,o,!1,null,"36860d42",null));e["default"]=B.exports},4792:function(t,e,n){"use strict";n("6487")},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,c=n("1dde"),i=c("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e7c":function(t,e,n){"use strict";n("99bb")},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"62e2":function(t,e,n){},6487:function(t,e,n){},"6ffc":function(t,e,n){"use strict";n("c017")},"746f":function(t,e,n){var r=n("428f"),o=n("5135"),c=n("e538"),i=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||i(e,t,{value:c.f(t)})}},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),c=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?o.f(t,i,c(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),c=n("e8b5"),i=n("861d"),a=n("7b0b"),s=n("50c4"),u=n("8418"),f=n("65f0"),l=n("1dde"),d=n("b622"),b=n("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",y=b>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=l("concat"),m=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},w=!y||!v;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,o,c,i=a(this),l=f(i,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(c=-1===e?i:arguments[e],m(c)){if(o=s(c.length),d+o>g)throw TypeError(h);for(n=0;n<o;n++,d++)n in c&&u(l,d,c[n])}else{if(d>=g)throw TypeError(h);u(l,d++,c)}return l.length=d,l}})},"99bb":function(t,e,n){},"9bd0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return n("div",{key:r,staticClass:"tab-control-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[n("span",[t._v(t._s(e))])])})),0)},o=[],c={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},i=c,a=(n("4e7c"),n("2877")),s=Object(a["a"])(i,r,o,!1,null,null,null);e["a"]=s.exports},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),c=n("d066"),i=n("c430"),a=n("83ab"),s=n("4930"),u=n("fdbf"),f=n("d039"),l=n("5135"),d=n("e8b5"),b=n("861d"),p=n("825a"),g=n("7b0b"),h=n("fc6a"),y=n("c04e"),v=n("5c6c"),m=n("7c73"),w=n("df75"),O=n("241c"),C=n("057f"),j=n("7418"),x=n("06cf"),_=n("9bf2"),D=n("d1e7"),k=n("9112"),S=n("6eeb"),I=n("5692"),E=n("f772"),P=n("d012"),T=n("90e3"),N=n("b622"),M=n("e538"),$=n("746f"),A=n("d44e"),V=n("69f3"),G=n("b727").forEach,J=E("hidden"),L="Symbol",W="prototype",B=N("toPrimitive"),F=V.set,K=V.getterFor(L),Q=Object[W],R=o.Symbol,q=c("JSON","stringify"),z=x.f,H=_.f,U=C.f,X=D.f,Y=I("symbols"),Z=I("op-symbols"),tt=I("string-to-symbol-registry"),et=I("symbol-to-string-registry"),nt=I("wks"),rt=o.QObject,ot=!rt||!rt[W]||!rt[W].findChild,ct=a&&f((function(){return 7!=m(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=z(Q,e);r&&delete Q[e],H(t,e,n),r&&t!==Q&&H(Q,e,r)}:H,it=function(t,e){var n=Y[t]=m(R[W]);return F(n,{type:L,tag:t,description:e}),a||(n.description=e),n},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof R},st=function(t,e,n){t===Q&&st(Z,e,n),p(t);var r=y(e,!0);return p(n),l(Y,r)?(n.enumerable?(l(t,J)&&t[J][r]&&(t[J][r]=!1),n=m(n,{enumerable:v(0,!1)})):(l(t,J)||H(t,J,v(1,{})),t[J][r]=!0),ct(t,r,n)):H(t,r,n)},ut=function(t,e){p(t);var n=h(e),r=w(n).concat(pt(n));return G(r,(function(e){a&&!lt.call(n,e)||st(t,e,n[e])})),t},ft=function(t,e){return void 0===e?m(t):ut(m(t),e)},lt=function(t){var e=y(t,!0),n=X.call(this,e);return!(this===Q&&l(Y,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Y,e)||l(this,J)&&this[J][e])||n)},dt=function(t,e){var n=h(t),r=y(e,!0);if(n!==Q||!l(Y,r)||l(Z,r)){var o=z(n,r);return!o||!l(Y,r)||l(n,J)&&n[J][r]||(o.enumerable=!0),o}},bt=function(t){var e=U(h(t)),n=[];return G(e,(function(t){l(Y,t)||l(P,t)||n.push(t)})),n},pt=function(t){var e=t===Q,n=U(e?Z:h(t)),r=[];return G(n,(function(t){!l(Y,t)||e&&!l(Q,t)||r.push(Y[t])})),r};if(s||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=T(t),n=function(t){this===Q&&n.call(Z,t),l(this,J)&&l(this[J],e)&&(this[J][e]=!1),ct(this,e,v(1,t))};return a&&ot&&ct(Q,e,{configurable:!0,set:n}),it(e,t)},S(R[W],"toString",(function(){return K(this).tag})),S(R,"withoutSetter",(function(t){return it(T(t),t)})),D.f=lt,_.f=st,x.f=dt,O.f=C.f=bt,j.f=pt,M.f=function(t){return it(N(t),t)},a&&(H(R[W],"description",{configurable:!0,get:function(){return K(this).description}}),i||S(Q,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:R}),G(w(nt),(function(t){$(t)})),r({target:L,stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=R(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:ft,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:bt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:f((function(){j.f(1)}))},{getOwnPropertySymbols:function(t){return j.f(g(t))}}),q){var gt=!s||f((function(){var t=R();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,o=[t],c=1;while(arguments.length>c)o.push(arguments[c++]);if(r=e,(b(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,q.apply(null,o)}})}R[W][B]||k(R[W],B,R[W].valueOf),A(R,L),P[J]=!0},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,n){var r=n("23e7"),o=n("7b0b"),c=n("df75"),i=n("d039"),a=i((function(){c(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(t){return c(o(t))}})},c017:function(t,e,n){},c705:function(t,e,n){},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),c=n("56ef"),i=n("fc6a"),a=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=i(t),o=a.f,u=c(r),f={},l=0;while(u.length>l)n=o(r,e=u[l++]),void 0!==n&&s(f,e,n);return f}})},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),c=n("fc6a"),i=n("06cf").f,a=n("83ab"),s=o((function(){i(1)})),u=!a||s;r({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return i(c(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},f303:function(t,e,n){"use strict";n("c705")},f64e:function(t,e,n){"use strict";n("62e2")}}]);
//# sourceMappingURL=chunk-70bd0d17.5661e39d.js.map